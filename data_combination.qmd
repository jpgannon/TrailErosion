---
title: "Data Combination"
format: html
editor: visual
---

```{r}
library(tidyverse)
```

## Prepare 24-25 data

```{r}
F24_raw <- read_csv("data/Final Data Collection Fall 2024-Spring 2025.csv") |>
  select(Transect, Term, Measurement, Depth_cm = Depth) #|>
  #group_by(Transect) |>
  #mutate(
  #  Depth_cm = Depth_Measurement -Depth_Measurement[1]#) 

```

Read in older data, combine

```{r}
F21 <- read_csv("data/CoreTread_F21.csv") |>
  select(Transect, Trail_Width, Measurement_Point,
         Depth_Measurement) |>
  mutate(Date = "F2021")

S22 <- read_csv("data/CoreTread_S22.csv") |>
  select(Transect, Trail_Width, Measurement_Point,
         Depth_Measurement)|>
  mutate(Date = "S2022")

AY2425 <- F24_raw |>
  select(Transect, Term,
         Measurement_Point = Measurement,
         Depth_Measurement = Depth_cm)|>
  mutate(Date = Term) |>
  mutate(Transect = as.numeric(Transect)) |>
  select(-Term)

All_Measurements <- bind_rows(F21, S22, AY2425) |>
  drop_na(Measurement_Point)

All_Measurements_long <- drop_na(All_Measurements, Transect)

All_Measurements_wide <- All_Measurements_long |>
  select(-Trail_Width)|>
  pivot_wider(names_from = Date,
              values_from = Depth_Measurement,
              values_fn = mean) |>
  drop_na(F2021) |>
  group_by(Transect) |>
  mutate(F24 = F24 - F24[1],
         S25 = S25 - S25[1])

```
